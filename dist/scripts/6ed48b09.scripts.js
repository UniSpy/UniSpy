"use strict";angular.module("uniSpyApp",["ngResource"]);var app=angular.module("uniSpyApp",[]);app.config(["$httpProvider",function(a){a.defaults.useXDomain=!0,delete a.defaults.headers.common["X-Requested-With"]}]),angular.module("uniSpyApp",["ui.bootstrap"]),angular.module("uniSpyApp").controller("MainCtrl",["$scope","$http","$filter",function(a,b){function c(){a.recommendations=angular.copy(a.entries);for(var b in a.entries){var c=a.entries[b];if(void 0!==c.meals){var d=!0;for(var e in c.meals.fi){var f=c.meals.fi[e],g=!0,h=[];for(var i in f){var j=f[i];a.isTagged(j)&&(h.push(j),g=!1)}a.recommendations[b].meals.fi[e]=h,g||(d=!1)}d&&delete a.recommendations[b]}}console.log(a.recommendations)}a.days=["Maanantai","Tiistai","Keskiviikko","Torstai","Perjantai","Lauantai","Sunnuntai"],b.get("http://unispy-backend.herokuapp.com/menus.json").success(function(b){a.entries=b,void 0!==a.tags&&c()}),b.get("http://unispy-backend.herokuapp.com/tags.json").success(function(b){a.tags=new Array;for(var d in b)a.tags.push(b[d].content);void 0!==a.entries&&c()}),a.hasMeals=function(a){return!!a.length},a.onlyUnicafe=function(a){return void 0===a?!1:a.name.indexOf("Unicafe")>-1},a.isTagged=function(b){for(var c in a.tags)if(b.toLowerCase().indexOf(a.tags[c].toLowerCase())>-1)return!0;return!1}}]),angular.module("uniSpyApp").controller("SideCtrl",["$scope",function(a){a.stuff="Blaa"}]);